{"version":3,"file":"button.js","sources":["../../src/components/button/button.js"],"sourcesContent":["import './button.scss'\nimport { Base } from '../base.js'\n\nconst PREFIX = 'uishka'\n\nexport class Button extends Base {\n    constructor(element) {\n        super(element);\n\n        // добавляем счетчик\n        this.clickCount = 0;\n        this.text = this.element.textContent;\n\n        // Добавляем обработчик клика\n        this.element.addEventListener('click', this.handleClick.bind(this));\n    }\n\n    handleClick(event) {\n        if (this.element.disabled) return;\n\n        // Создаем кастомное событие\n        this.clickCount++;\n        const uievent = new CustomEvent('ui-button-click', {\n            detail: {\n                timestamp: Date.now(),\n                component: this\n            },\n            bubbles: true\n        });\n        this.element.dispatchEvent(uievent);\n    }\n\n    // Показать загрузку\n    loading() {\n        this.text = this.element.textContent;\n        this.element.innerHTML = 'Загрузка...';\n        this.disable();\n    }\n\n    // Вернуть исходный текст\n    reset() {\n        this.element.textContent = this.text;\n        this.enable();\n    }\n}\n\n// Автоматическая инициализация всех кнопок с data-ui-button\ndocument.addEventListener('DOMContentLoaded', () => {\n    document.querySelectorAll('.' + PREFIX + '-btn').forEach(button => {\n        new Button(button);\n    });\n});"],"names":["PREFIX","Button","Base","element","event","uievent","button"],"mappings":"8BAGA,MAAMA,EAAS,SAER,MAAMC,UAAeC,CAAK,CAC7B,YAAYC,EAAS,CACjB,MAAMA,CAAO,EAGb,KAAK,WAAa,EAClB,KAAK,KAAO,KAAK,QAAQ,YAGzB,KAAK,QAAQ,iBAAiB,QAAS,KAAK,YAAY,KAAK,IAAI,CAAC,CACtE,CAEA,YAAYC,EAAO,CACf,GAAI,KAAK,QAAQ,SAAU,OAG3B,KAAK,aACL,MAAMC,EAAU,IAAI,YAAY,kBAAmB,CAC/C,OAAQ,CACJ,UAAW,KAAK,IAAG,EACnB,UAAW,IAC3B,EACY,QAAS,EACrB,CAAS,EACD,KAAK,QAAQ,cAAcA,CAAO,CACtC,CAGA,SAAU,CACN,KAAK,KAAO,KAAK,QAAQ,YACzB,KAAK,QAAQ,UAAY,cACzB,KAAK,QAAO,CAChB,CAGA,OAAQ,CACJ,KAAK,QAAQ,YAAc,KAAK,KAChC,KAAK,OAAM,CACf,CACJ,CAGA,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,SAAS,iBAAiB,IAAML,EAAS,MAAM,EAAE,QAAQM,GAAU,CAC/D,IAAIL,EAAOK,CAAM,CACrB,CAAC,CACL,CAAC"}