var c=Object.defineProperty;var a=(n,t,e)=>t in n?c(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var l=(n,t,e)=>(a(n,typeof t!="symbol"?t+"":t,e),e);const s=class s{constructor(t){if(this.constructor===s)throw new Error("UIComponent is abstract and cannot be instantiated directly");this.constructor.instances||(this.constructor.instances=new Map),this.element=t,this.init(),this.constructor.instances.set(t,this)}init(){throw new Error('Method "init" must be implemented in derived class')}show(){this.element.style.display=""}hide(){this.element.style.display="none"}enable(){this.element.disabled=!1}disable(){this.element.disabled=!0}static getInstance(t){var e;return(e=this.instances)==null?void 0:e.get(t)}static getBySelector(t){const e=document.querySelector(t);return e?this.instances.get(e):null}static getAll(){return this.instances?Array.from(this.instances.values()):[]}destroy(){var t;(t=this.constructor.instances)==null||t.delete(this.element)}};l(s,"instances",new Map);let i=s;class r extends i{constructor(t){super(t),this.clickCount=0}init(){console.log("init"),this.element.addEventListener("click",this.handleClick.bind(this)),this.element.classList.add("ui-button")}handleClick(t){if(this.element.disabled)return;this.clickCount++;const e=new CustomEvent("ui-button-click",{detail:{element:this.element,timestamp:Date.now(),component:this},bubbles:!0});this.element.dispatchEvent(e)}loading(){this.element.innerHTML="Загрузка...",this.element.disabled=!0}reset(t=null){t&&(this.element.textContent=t),this.element.disabled=!1}}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-ui-button]").forEach(n=>{new r(n)})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnV0dG9uLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdWljb21wb25lbnQuanMiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9idXR0b24vYnV0dG9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vINCR0LDQt9C+0LLRi9C5INCw0LHRgdGC0YDQsNC60YLQvdGL0Lkg0LrQu9Cw0YHRgSDQtNC70Y8g0LLRgdC10YUgVUkg0LrQvtC80L/QvtC90LXQvdGC0L7QslxuZXhwb3J0IGNsYXNzIFVJQ29tcG9uZW50IHtcbiAgLy8g0KXRgNCw0L3QuNC70LjRidC1INCy0YHQtdGFINGN0LrQt9C10LzQv9C70Y/RgNC+0LIgKNC+0LHRidC10LUg0LTQu9GPINCy0YHQtdGFINC90LDRgdC70LXQtNC90LjQutC+0LIpXG4gIHN0YXRpYyBpbnN0YW5jZXMgPSBuZXcgTWFwKCk7XG4gIFxuICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgaWYgKHRoaXMuY29uc3RydWN0b3IgPT09IFVJQ29tcG9uZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VJQ29tcG9uZW50IGlzIGFic3RyYWN0IGFuZCBjYW5ub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5Jyk7XG4gICAgfVxuXG4gICAgLy8g0JjQvdC40YbQuNCw0LvQuNC30LjRgNGD0LXQvCBpbnN0YW5jZXMg0LXRgdC70Lgg0LXQs9C+INC10YnQtSDQvdC10YJcbiAgICBpZiAoIXRoaXMuY29uc3RydWN0b3IuaW5zdGFuY2VzKSB7XG4gICAgICB0aGlzLmNvbnN0cnVjdG9yLmluc3RhbmNlcyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLmluaXQoKTtcblxuICAgIC8vINCh0L7RhdGA0LDQvdGP0LXQvCDRjdC60LfQtdC80L/Qu9GP0YAg0YEg0YHRgdGL0LvQutC+0Lkg0L3QsCDRjdC70LXQvNC10L3RglxuICAgIHRoaXMuY29uc3RydWN0b3IuaW5zdGFuY2VzLnNldChlbGVtZW50LCB0aGlzKTtcbiAgfVxuXG4gIC8vINCQ0LHRgdGC0YDQsNC60YLQvdGL0Lkg0LzQtdGC0L7QtCAtINC00L7Qu9C20LXQvSDQsdGL0YLRjCDRgNC10LDQu9C40LfQvtCy0LDQvSDQsiDQvdCw0YHQu9C10LTQvdC40LrQsNGFXG4gIGluaXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2QgXCJpbml0XCIgbXVzdCBiZSBpbXBsZW1lbnRlZCBpbiBkZXJpdmVkIGNsYXNzJyk7XG4gIH1cblxuICAvLyDQntCx0YnQuNC1INC80LXRgtC+0LTRiyDQtNC70Y8g0LLRgdC10YUg0LrQvtC80L/QvtC90LXQvdGC0L7QslxuICBzaG93KCkge1xuICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gIH1cblxuICBoaWRlKCkge1xuICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG5cbiAgZW5hYmxlKCkge1xuICAgIHRoaXMuZWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgZGlzYWJsZSgpIHtcbiAgICB0aGlzLmVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgLy8g0KHRgtCw0YLQuNGH0LXRgdC60LjQtSDQvNC10YLQvtC00YsgKNC+0LHRidC40LUg0LTQu9GPINCy0YHQtdGFINC90LDRgdC70LXQtNC90LjQutC+0LIpXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbGVtZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzPy5nZXQoZWxlbWVudCk7XG4gIH1cbiAgXG4gIHN0YXRpYyBnZXRCeVNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIHJldHVybiBlbGVtZW50ID8gdGhpcy5pbnN0YW5jZXMuZ2V0KGVsZW1lbnQpIDogbnVsbDtcbiAgfVxuICBcbiAgc3RhdGljIGdldEFsbCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXMgPyBBcnJheS5mcm9tKHRoaXMuaW5zdGFuY2VzLnZhbHVlcygpKSA6IFtdO1xuICB9XG5cbiAgLy8g0KPQvdC40YfRgtC+0LbQtdC90LjQtSDQutC+0LzQv9C+0L3QtdC90YLQsFxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuY29uc3RydWN0b3IuaW5zdGFuY2VzPy5kZWxldGUodGhpcy5lbGVtZW50KTtcbiAgfVxufSIsIi8vINCa0LvQsNGB0YEg0LTQu9GPINGA0LDQsdC+0YLRiyDRgSDQutC90L7Qv9C60LDQvNC4XG5pbXBvcnQgJy4vYnV0dG9uLnNjc3MnXG5cbmltcG9ydCB7IFVJQ29tcG9uZW50IH0gZnJvbSAnLi8uLi8uLi91aWNvbXBvbmVudC5qcydcblxuZXhwb3J0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIFVJQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgIC8vINCy0YvQt9GL0LLQsNC10Lwg0LrQvtC90YHRgtGA0YPQutGC0L7RgCDRgNC+0LTQuNGC0LXQu9GPXG4gICAgc3VwZXIoZWxlbWVudClcbiAgICBcbiAgICAvLyDQtNC+0LHQsNCy0LvRj9C10Lwg0YHRh9C10YLRh9C40LpcbiAgICB0aGlzLmNsaWNrQ291bnQgPSAwXG4gIH1cblxuICBpbml0KCkge1xuICAgIGNvbnNvbGUubG9nKCdpbml0Jyk7XG4gICAgLy8g0JTQvtCx0LDQstC70Y/QtdC8INC+0LHRgNCw0LHQvtGC0YfQuNC6INC60LvQuNC60LBcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1aS1idXR0b24nKTtcbiAgfVxuXG4gIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgXG4gICAgaWYgKHRoaXMuZWxlbWVudC5kaXNhYmxlZCkgcmV0dXJuXG4gICAgXG4gICAgLy8g0KHQvtC30LTQsNC10Lwg0LrQsNGB0YLQvtC80L3QvtC1INGB0L7QsdGL0YLQuNC1XG4gICAgdGhpcy5jbGlja0NvdW50KytcbiAgICBjb25zdCB1aWV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCd1aS1idXR0b24tY2xpY2snLCB7XG4gICAgICBkZXRhaWw6IHsgXG4gICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICBjb21wb25lbnQ6IHRoaXNcbiAgICAgIH0sXG4gICAgICBidWJibGVzOiB0cnVlXG4gICAgfSlcbiAgICB0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudCh1aWV2ZW50KVxuICB9XG4gIC8qXG4gIC8vINCS0LrQu9GO0YfQuNGC0Ywg0LrQvdC+0L/QutGDXG4gIGVuYWJsZSgpIHtcbiAgICB0aGlzLmVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZVxuICB9XG5cbiAgLy8g0JLRi9C60LvRjtGH0LjRgtGMINC60L3QvtC/0LrRg1xuICBkaXNhYmxlKCkge1xuICAgIHRoaXMuZWxlbWVudC5kaXNhYmxlZCA9IHRydWVcbiAgfVxuICAqL1xuICAvLyDQn9C+0LrQsNC30LDRgtGMINC30LDQs9GA0YPQt9C60YNcbiAgbG9hZGluZygpIHtcbiAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gJ9CX0LDQs9GA0YPQt9C60LAuLi4nXG4gICAgdGhpcy5lbGVtZW50LmRpc2FibGVkID0gdHJ1ZVxuICB9XG5cbiAgLy8g0JLQtdGA0L3Rg9GC0Ywg0LjRgdGF0L7QtNC90YvQuSDRgtC10LrRgdGCXG4gIHJlc2V0KHRleHQgPSBudWxsKSB7XG4gICAgaWYgKHRleHQpIHRoaXMuZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHRcbiAgICB0aGlzLmVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZVxuICB9XG59XG5cbi8vINCQ0LLRgtC+0LzQsNGC0LjRh9C10YHQutCw0Y8g0LjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0LLRgdC10YUg0LrQvdC+0L/QvtC6INGBIGRhdGEtdWktYnV0dG9uXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS11aS1idXR0b25dJykuZm9yRWFjaChidXR0b24gPT4ge1xuICAgIGNvbnN0IEJ0biA9IG5ldyBCdXR0b24oYnV0dG9uKVxuICB9KVxufSkiXSwibmFtZXMiOlsiX1VJQ29tcG9uZW50IiwiZWxlbWVudCIsIl9hIiwic2VsZWN0b3IiLCJfX3B1YmxpY0ZpZWxkIiwiVUlDb21wb25lbnQiLCJCdXR0b24iLCJldmVudCIsInVpZXZlbnQiLCJ0ZXh0IiwiYnV0dG9uIl0sIm1hcHBpbmdzIjoid0tBQ08sTUFBTUEsRUFBTixNQUFNQSxDQUFZLENBSXZCLFlBQVlDLEVBQVMsQ0FDbkIsR0FBSSxLQUFLLGNBQWdCRCxFQUN2QixNQUFNLElBQUksTUFBTSw2REFBNkQsRUFJMUUsS0FBSyxZQUFZLFlBQ3BCLEtBQUssWUFBWSxVQUFZLElBQUksS0FHbkMsS0FBSyxRQUFVQyxFQUNmLEtBQUssS0FBSSxFQUdULEtBQUssWUFBWSxVQUFVLElBQUlBLEVBQVMsSUFBSSxDQUM3QyxDQUdELE1BQU8sQ0FDTCxNQUFNLElBQUksTUFBTSxvREFBb0QsQ0FDckUsQ0FHRCxNQUFPLENBQ0wsS0FBSyxRQUFRLE1BQU0sUUFBVSxFQUM5QixDQUVELE1BQU8sQ0FDTCxLQUFLLFFBQVEsTUFBTSxRQUFVLE1BQzlCLENBRUQsUUFBUyxDQUNQLEtBQUssUUFBUSxTQUFXLEVBQ3pCLENBRUQsU0FBVSxDQUNSLEtBQUssUUFBUSxTQUFXLEVBQ3pCLENBR0QsT0FBTyxZQUFZQSxFQUFTLE9BQzFCLE9BQU9DLEVBQUEsS0FBSyxZQUFMLFlBQUFBLEVBQWdCLElBQUlELEVBQzVCLENBRUQsT0FBTyxjQUFjRSxFQUFVLENBQzdCLE1BQU1GLEVBQVUsU0FBUyxjQUFjRSxDQUFRLEVBQy9DLE9BQU9GLEVBQVUsS0FBSyxVQUFVLElBQUlBLENBQU8sRUFBSSxJQUNoRCxDQUVELE9BQU8sUUFBUyxDQUNkLE9BQU8sS0FBSyxVQUFZLE1BQU0sS0FBSyxLQUFLLFVBQVUsUUFBUSxFQUFJLEVBQy9ELENBR0QsU0FBVSxRQUNSQyxFQUFBLEtBQUssWUFBWSxZQUFqQixNQUFBQSxFQUE0QixPQUFPLEtBQUssUUFDekMsQ0FDSCxFQTNERUUsRUFGV0osRUFFSixZQUFZLElBQUksS0FGbEIsSUFBTUssRUFBTkwsRUNJQSxNQUFNTSxVQUFlRCxDQUFZLENBQ3RDLFlBQVlKLEVBQVMsQ0FFbkIsTUFBTUEsQ0FBTyxFQUdiLEtBQUssV0FBYSxDQUNuQixDQUVELE1BQU8sQ0FDTCxRQUFRLElBQUksTUFBTSxFQUVsQixLQUFLLFFBQVEsaUJBQWlCLFFBQVMsS0FBSyxZQUFZLEtBQUssSUFBSSxDQUFDLEVBQ2xFLEtBQUssUUFBUSxVQUFVLElBQUksV0FBVyxDQUN2QyxDQUVELFlBQVlNLEVBQU8sQ0FFakIsR0FBSSxLQUFLLFFBQVEsU0FBVSxPQUczQixLQUFLLGFBQ0wsTUFBTUMsRUFBVSxJQUFJLFlBQVksa0JBQW1CLENBQ2pELE9BQVEsQ0FDTixRQUFTLEtBQUssUUFDZCxVQUFXLEtBQUssSUFBSyxFQUNyQixVQUFXLElBQ1osRUFDRCxRQUFTLEVBQ2YsQ0FBSyxFQUNELEtBQUssUUFBUSxjQUFjQSxDQUFPLENBQ25DLENBYUQsU0FBVSxDQUNSLEtBQUssUUFBUSxVQUFZLGNBQ3pCLEtBQUssUUFBUSxTQUFXLEVBQ3pCLENBR0QsTUFBTUMsRUFBTyxLQUFNLENBQ2JBLElBQU0sS0FBSyxRQUFRLFlBQWNBLEdBQ3JDLEtBQUssUUFBUSxTQUFXLEVBQ3pCLENBQ0gsQ0FHQSxTQUFTLGlCQUFpQixtQkFBb0IsSUFBTSxDQUNsRCxTQUFTLGlCQUFpQixrQkFBa0IsRUFBRSxRQUFRQyxHQUFVLENBQ2xELElBQUlKLEVBQU9JLENBQU0sQ0FDakMsQ0FBRyxDQUNILENBQUMifQ==
